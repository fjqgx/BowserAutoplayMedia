<html>
  <head>
    <title>wechat autoplay</title>
  </head>
  <body>
    <video id="video" preload="auto" x5-playsinline playsinline webkit-playsinline style="width: 640px; height: 480px;" src="./sound.mp4" controls></video>
    <script>
      let video = document.getElementById("video");

      if (window.WeixinJSBridge) {
        wechatPlayVideo();
      } else {
        document.addEventListener("WeixinJSBridge", function () {
          wechatPlayVideo();
        })
      }

      function wechatPlayVideo () {
        window.WeixinJSBridge.invoke("getNetworkType", {}, function () {
          video.play();
        })
      }
      
    </script>
  </body>
</html>